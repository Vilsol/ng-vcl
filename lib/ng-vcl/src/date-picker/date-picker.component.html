<div class="row">
  <div class="data-grid d-g-v-align-middle d-g-align-centered calendar cal-input" style="min-width: 18em;" *ngIf="displayDate">
    <div class="d-g-row">
      <div class="d-g-cell toolbar">
        <div class="flex row justify-between center" role="menubar" aria-level="1">
          <button vcl-square-button type="button" class="transparent" [disabled]="disabled" (click)="prevMonth()" aria-label="previous">
            <vcl-icon icon="vcl:arrow-left"></vcl-icon>
          </button>              
          <span class="cal-header-label" (click)="showYear()" [class.date-picker-pointer]="!showYearPick">
            {{ viewDate?.getMonthString() }}&nbsp;&nbsp;{{ viewDate?.getYearString() }}
          </span>
            <button vcl-square-button type="button" class="transparent" [disabled]="disabled" (click)="nextMonth()" aria-label="next">
              <vcl-icon icon="vcl:arrow-right"></vcl-icon>
            </button>
          </div>
        </div>
      </div>

      <ng-container *ngIf="!showYearPick">
        <div *ngIf="displayWeekNumbers || displayWeekdays" class="d-g-row">
          <div *ngIf="displayWeekNumbers" class="d-g-cell weekday-label">
            week
          </div>
          <div *ngFor="let day of viewDate.getWeekDays()" class="d-g-cell weekday-label">
            <ng-container *ngIf="displayWeekdays">
              {{ day }}
            </ng-container>
          </div>
        </div>

        <div class="d-g-row" *ngFor="let week of viewDate.getMonthBlock(); index as w">
          <div *ngIf="displayWeekNumbers && week.length == 7" class="d-g-cell weekday-label">
            {{ week[5].getWeekNumber() }}
          </div>
          <div *ngFor="let day of week; index as d"
            [tabindex]="w * d"
            class="d-g-cell cal-item"
            [class.today]="highlightSelected && day.isToday()"
            [class.other-month]="!day.isSameMonthAndYear(viewDate)"
            [class.disabled]="disabled || isDayDisabled(day)"
            [class.selected]="isMarked(day)"
            [class.selected-alt]="isBeginning(day) && !currentRangeEnd"
            [class.selected-beg]="isBeginning(day) && currentRangeEnd"
            [class.selected-end]="isEnd(day)"
            (click)="onDateTap(day)">
            {{ day.date.getDate() }}
          </div>
        </div>

        <div *ngIf="displayJumpSelected || displayJumpToday" class="d-g-row">
          <div class="d-g-cell">
            <div class="toolbar flex row justify-between" role="menubar" aria-level="2">
              <button *ngIf="displayJumpToday" type="button" title="go to today" class="button transparent flex" [disabled]="disabled" (click)="gotoToday()">
                <div class=" icogram">
                  <span class="text ">go to today</span>
                </div>
              </button>
              <button *ngIf="displayJumpSelected" type="button" title="go to selected" class="button transparent flex" [disabled]="disabled" (click)="gotoSelected()">
                <div class=" icogram">
                  <span class="text ">go to selected</span>
                </div>
              </button>
            </div>
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="showYearPick">
        <div class="d-g-row" role="row" *ngFor="let row of viewDate.getYearsBlock()">
          <div *ngFor="let year of row" class="d-g-cell cal-item" role="gridcell"
            [class.selected]="viewDate.date.getFullYear() == year"
            [class.today]="highlightSelected && today.isInYear(year)"
            (click)="yearPickSelect(year)">
            {{ year }}
          </div>
        </div>
      </ng-container>
    </div>
    <vcl-time-picker *ngIf="displayTime"
                     [(ngModel)]="selectedDate"
                     (ngModelChange)="timeChange($event)"
                     [displayHours]="displayHours"
                     [displayMinutes]="displayMinutes"
                     [displaySeconds]="displaySeconds"
                     [displayHours24]="displayHours24"
                     [ngStyle]="{ 'margin-left': displayDate ? '10px' : 0 }">
    </vcl-time-picker>
</div>
